manifest {
    /* Homepage of project */
    homePage = 'https://github.com/meglab-metagenomics/amrplusplus_v2'

    /* Description of project */
    description = 'AmrPlusPlus: A bioinformatic pipeline for characterizing the resistome with the MEGARes database and the microbiome using Kraken.'

    /* Main pipeline script */
    mainScript = 'main_AmrPlusPlus_v2.nf'

    /* Default repository branch */
    defaultBranch = 'master'
}

params {
    /* Location of forward and reverse read pairs */
    reads = "data/*_*{1,2}.*.gz"

    /* Location of adapter sequences */
    adapters = "amrplusplus_v2/data/adapters/nextera.fa"

    /* Location of host genome index files */
    host_index = ""

    /* Location of host genome */
    host = "amrplusplus_v2/data/host/chr21.fasta.gz"
    
    /* Kraken database location, default is "none" */   
    kraken_db = "/usr/local/kraken2/db_standard/"

    card_db = "/usr/local/rgi/data/localDB/"

    /* Location of amr index files */
    amr_index = ""

    /* Location of antimicrobial resistance (MEGARes) database */
    amr = "amrplusplus_v2/data/amr/megares_modified_database_v2.00.fasta"

    /* Location of amr annotation file */
    annotation = "amrplusplus_v2/data/amr/megares_modified_annotations_v2.00.csv"

    /* Location of SNP confirmation script */
    snp_confirmation = "amrplusplus_v2/bin/snp_confirmation.py"

    /* Output directory */
    output = "test_results"

    /* Number of threads */
    threads = 10
    smem_threads = 12

    /* Trimmomatic trimming parameters */
    leading = 3
    trailing = 3
    slidingwindow = "4:20"
    minlen = 70

    /* Resistome threshold */
    threshold = 80

    /* Starting rarefaction level */
    min = 5

    /* Ending rarefaction level */
    max = 100

    /* Number of levels to skip */
    skip = 5

    /* Number of iterations to sample at */
    samples = 1

    /* Display help message */
    help = false
}

/* These files correspond to configuration files that can be edited to best suit your computing environment. */
profiles {
  local {
    includeConfig "amrplusplus_v2/config/local.config"
  }
  MEG_AMI {
    includeConfig "amrplusplus_v2/config/MEG_AMI.config"
  }
  local_angus {
    includeConfig "amrplusplus_v2/config/local_angus.config"
  }
  local_MSI {
    includeConfig "amrplusplus_v2/config/local_MSI.config"
  }
  singularity_slurm {
    process.executor = 'slurm'
    includeConfig "amrplusplus_v2/config/singularity_slurm.config"
    process.container = 'shub://meglab-metagenomics/amrplusplus_v2'
  }
  singularity {
    includeConfig "config/singularity.config"
    process.container = 'shub://meglab-metagenomics/amrplusplus_v2'
  }
}
